{"ast":null,"code":"\"use strict\";\n\nvar _inherits = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nvar _createSuper = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\nvar _wrapNativeSuper = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\nvar _toArray = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toArray\");\nvar _createForOfIteratorHelper = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\nvar _classCallCheck = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Ptr = /*#__PURE__*/function () {\n  function Ptr(tokens) {\n    _classCallCheck(this, Ptr);\n    this.tokens = tokens;\n  }\n  _createClass(Ptr, [{\n    key: \"toString\",\n    value: function toString() {\n      if (this.tokens.length === 0) {\n        return \"\";\n      }\n      var tokens = this.tokens.map(function (token) {\n        return token.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n      });\n      return \"/\".concat(tokens.join(\"/\"));\n    }\n  }, {\n    key: \"eval\",\n    value: function _eval(instance) {\n      var _iterator = _createForOfIteratorHelper(this.tokens),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var token = _step.value;\n          if (instance.hasOwnProperty(token)) {\n            instance = instance[token];\n          } else {\n            throw new EvalError(instance, token);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return instance;\n    }\n  }], [{\n    key: \"parse\",\n    value: function parse(s) {\n      if (s === \"\") {\n        return new Ptr([]);\n      }\n      if (!s.startsWith(\"/\")) {\n        throw new InvalidPtrError(s);\n      }\n      var _s$split = s.split(\"/\"),\n        _s$split2 = _toArray(_s$split),\n        tokens = _s$split2.slice(1);\n      return new Ptr(tokens.map(function (token) {\n        return token.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n      }));\n    }\n  }]);\n  return Ptr;\n}();\nexports.default = Ptr;\nvar InvalidPtrError = /*#__PURE__*/function (_Error) {\n  _inherits(InvalidPtrError, _Error);\n  var _super = _createSuper(InvalidPtrError);\n  function InvalidPtrError(ptr) {\n    var _this;\n    _classCallCheck(this, InvalidPtrError);\n    _this = _super.call(this, \"Invalid JSON Pointer: \".concat(ptr));\n    _this.ptr = ptr;\n    return _this;\n  }\n  return InvalidPtrError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexports.InvalidPtrError = InvalidPtrError;\nvar EvalError = /*#__PURE__*/function (_Error2) {\n  _inherits(EvalError, _Error2);\n  var _super2 = _createSuper(EvalError);\n  function EvalError(instance, token) {\n    var _this2;\n    _classCallCheck(this, EvalError);\n    _this2 = _super2.call(this, \"Error evaluating JSON Pointer: no attribute \".concat(token, \" on \").concat(instance));\n    _this2.instance = instance;\n    _this2.token = token;\n    return _this2;\n  }\n  return EvalError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexports.EvalError = EvalError;","map":{"version":3,"names":["Ptr","tokens","_classCallCheck","_createClass","key","value","toString","length","map","token","replace","concat","join","_eval","instance","_iterator","_createForOfIteratorHelper","_step","s","n","done","hasOwnProperty","EvalError","err","e","f","parse","startsWith","InvalidPtrError","_s$split","split","_s$split2","_toArray","slice","exports","default","_Error","_inherits","_super","_createSuper","ptr","_this","call","_wrapNativeSuper","Error","_Error2","_super2","_this2"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;IAGqBA,GAAG;EAyCtB,SAAAA,IAAYC,MAAgB;IAAAC,eAAA,OAAAF,GAAA;IAC1B,IAAI,CAACC,MAAM,GAAGA,MAAM;EACtB;EAACE,YAAA,CAAAH,GAAA;IAAAI,GAAA;IAAAC,KAAA,EAQM,SAAAC,SAAA,EAAQ;MACb,IAAI,IAAI,CAACL,MAAM,CAACM,MAAM,KAAK,CAAC,EAAE;QAC5B,OAAO,EAAE;;MAGX,IAAMN,MAAM,GAAG,IAAI,CAACA,MAAM,CAACO,GAAG,CAAC,UAACC,KAAK,EAAI;QACvC,OAAOA,KAAK,CAACC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;MACvD,CAAC,CAAC;MAEF,WAAAC,MAAA,CAAWV,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC;IAC7B;EAAC;IAAAR,GAAA;IAAAC,KAAA,EAWM,SAAAQ,MAAKC,QAAa;MAAA,IAAAC,SAAA,GAAAC,0BAAA,CACH,IAAI,CAACf,MAAM;QAAAgB,KAAA;MAAA;QAA/B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAiC;UAAA,IAAtBX,KAAK,GAAAQ,KAAA,CAAAZ,KAAA;UACd,IAAIS,QAAQ,CAACO,cAAc,CAACZ,KAAK,CAAC,EAAE;YAClCK,QAAQ,GAAGA,QAAQ,CAACL,KAAK,CAAC;WAC3B,MAAM;YACL,MAAM,IAAIa,SAAS,CAACR,QAAQ,EAAEL,KAAK,CAAC;;;MAEvC,SAAAc,GAAA;QAAAR,SAAA,CAAAS,CAAA,CAAAD,GAAA;MAAA;QAAAR,SAAA,CAAAU,CAAA;MAAA;MAED,OAAOX,QAAQ;IACjB;EAAC;IAAAV,GAAA;IAAAC,KAAA,EAxEM,SAAAqB,MAAaR,CAAS;MAK3B,IAAIA,CAAC,KAAK,EAAE,EAAE;QACZ,OAAO,IAAIlB,GAAG,CAAC,EAAE,CAAC;;MAGpB,IAAI,CAACkB,CAAC,CAACS,UAAU,CAAC,GAAG,CAAC,EAAE;QACtB,MAAM,IAAIC,eAAe,CAACV,CAAC,CAAC;;MAG9B,IAAAW,QAAA,GAAsBX,CAAC,CAACY,KAAK,CAAC,GAAG,CAAC;QAAAC,SAAA,GAAAC,QAAA,CAAAH,QAAA;QAAtB5B,MAAM,GAAA8B,SAAA,CAAAE,KAAA;MAClB,OAAO,IAAIjC,GAAG,CAACC,MAAM,CAACO,GAAG,CAAC,UAACC,KAAK,EAAI;QAClC,OAAOA,KAAK,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;MACtD,CAAC,CAAC,CAAC;IACL;EAAC;EAAA,OAAAV,GAAA;AAAA;AA3BHkC,OAAA,CAAAC,OAAA,GAAAnC,GAAA;AAmFC,IAMY4B,eAAgB,0BAAAQ,MAAA;EAAAC,SAAA,CAAAT,eAAA,EAAAQ,MAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAX,eAAA;EAM3B,SAAAA,gBAAYY,GAAW;IAAA,IAAAC,KAAA;IAAAvC,eAAA,OAAA0B,eAAA;IACrBa,KAAA,GAAAH,MAAA,CAAAI,IAAA,gCAAA/B,MAAA,CAA+B6B,GAAG;IAClCC,KAAA,CAAKD,GAAG,GAAGA,GAAG;IAAC,OAAAC,KAAA;EACjB;EAAC,OAAAb,eAAA;AAAA,gBAAAe,gBAAA,CATkCC,KAAK;AAA1CV,OAAA,CAAAN,eAAA,GAAAA,eAAA;AAUC,IAMYN,SAAU,0BAAAuB,OAAA;EAAAR,SAAA,CAAAf,SAAA,EAAAuB,OAAA;EAAA,IAAAC,OAAA,GAAAP,YAAA,CAAAjB,SAAA;EAWrB,SAAAA,UAAYR,QAAa,EAAEL,KAAa;IAAA,IAAAsC,MAAA;IAAA7C,eAAA,OAAAoB,SAAA;IACtCyB,MAAA,GAAAD,OAAA,CAAAJ,IAAA,sDAAA/B,MAAA,CAAqDF,KAAK,UAAAE,MAAA,CAAOG,QAAQ;IACzEiC,MAAA,CAAKjC,QAAQ,GAAGA,QAAQ;IACxBiC,MAAA,CAAKtC,KAAK,GAAGA,KAAK;IAAC,OAAAsC,MAAA;EACrB;EAAC,OAAAzB,SAAA;AAAA,gBAAAqB,gBAAA,CAf4BC,KAAK;AAApCV,OAAA,CAAAZ,SAAA,GAAAA,SAAA"},"metadata":{},"sourceType":"script"}