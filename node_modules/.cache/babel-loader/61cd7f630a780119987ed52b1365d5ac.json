{"ast":null,"code":"import React from\"react\";import BigNumber from\"bignumber.js\";// import { hashesToGH } from \"../formatters\";\nimport{hexToNumber}from\"@etclabscore/eserialize\";import{Grid}from\"@material-ui/core\";import ChartCard from\"../ChartCard\";import{VictoryBar,VictoryChart}from\"victory\";import{useTranslation}from\"react-i18next\";var config={blockTime:1,// seconds\nblockHistoryLength:100,chartHeight:200,chartWidth:400};var blockMapGasUsed=function blockMapGasUsed(block){return{x:hexToNumber(block.number),y:new BigNumber(block.gasUsed).dividedBy(1000000)};};var blockMapUncles=function blockMapUncles(block){return{x:hexToNumber(block.number),y:block.uncles.length};};// const blockMapHashRate = (block: any) => {\n//  return {\n//    x: hexToNumber(block.number),\n//    y: hashesToGH(new BigNumber(block.difficulty, 16).dividedBy(config.blockTime)),\n//  };\n// };\nvar blockMapTransactionCount=function blockMapTransactionCount(block){return{x:hexToNumber(block.number),y:block.transactions.length};};var StatCharts=function StatCharts(_ref){var blocks=_ref.blocks,victoryTheme=_ref.victoryTheme;var _useTranslation=useTranslation(),t=_useTranslation.t;return/*#__PURE__*/React.createElement(Grid,{item:true,container:true,justify:\"center\",style:{maxWidth:\"90vw\",margin:\"auto\",marginTop:\"-50px\",marginBottom:\"20px\"}},/*#__PURE__*/React.createElement(Grid,{key:\"txChart\",item:true,xs:12,md:6,lg:3},/*#__PURE__*/React.createElement(ChartCard,{title:t(\"Transaction Count\")},/*#__PURE__*/React.createElement(VictoryChart,{height:config.chartHeight,width:config.chartWidth,theme:victoryTheme},/*#__PURE__*/React.createElement(VictoryBar,{data:blocks.map(blockMapTransactionCount)})))),/*#__PURE__*/React.createElement(Grid,{key:\"gasUsed\",item:true,xs:12,md:6,lg:3},/*#__PURE__*/React.createElement(ChartCard,{title:t(\"Gas Used\")},/*#__PURE__*/React.createElement(VictoryChart,{height:config.chartHeight,width:config.chartWidth,theme:victoryTheme},/*#__PURE__*/React.createElement(VictoryBar,{data:blocks.map(blockMapGasUsed)})))),/*#__PURE__*/React.createElement(Grid,{key:\"uncles\",item:true,xs:12,md:6,lg:3},/*#__PURE__*/React.createElement(ChartCard,{title:t(\"Uncle Blocks\")},/*#__PURE__*/React.createElement(VictoryChart,{height:config.chartHeight,width:config.chartWidth,theme:victoryTheme},/*#__PURE__*/React.createElement(VictoryBar,{data:blocks.map(blockMapUncles)})))));};export default StatCharts;","map":{"version":3,"names":["React","BigNumber","hexToNumber","Grid","ChartCard","VictoryBar","VictoryChart","useTranslation","config","blockTime","blockHistoryLength","chartHeight","chartWidth","blockMapGasUsed","block","x","number","y","gasUsed","dividedBy","blockMapUncles","uncles","length","blockMapTransactionCount","transactions","StatCharts","_ref","blocks","victoryTheme","_useTranslation","t","createElement","item","container","justify","style","maxWidth","margin","marginTop","marginBottom","key","xs","md","lg","title","height","width","theme","data","map"],"sources":["/root/experiment/nova-explorer/src/components/StatCharts/StatCharts.tsx"],"sourcesContent":["import React from \"react\";\nimport BigNumber from \"bignumber.js\";\n// import { hashesToGH } from \"../formatters\";\nimport { hexToNumber } from \"@etclabscore/eserialize\";\nimport { Grid } from \"@material-ui/core\";\nimport ChartCard from \"../ChartCard\";\nimport { VictoryBar, VictoryChart } from \"victory\";\nimport { useTranslation } from \"react-i18next\";\n\nconst config = {\n  blockTime: 1, // seconds\n  blockHistoryLength: 100,\n  chartHeight: 200,\n  chartWidth: 400,\n};\n\nconst blockMapGasUsed = (block: any) => {\n  return {\n    x: hexToNumber(block.number),\n    y: new BigNumber(block.gasUsed).dividedBy(1000000),\n  };\n};\n\nconst blockMapUncles = (block: any) => {\n  return {\n    x: hexToNumber(block.number),\n    y: block.uncles.length,\n  };\n};\n\n// const blockMapHashRate = (block: any) => {\n//  return {\n//    x: hexToNumber(block.number),\n//    y: hashesToGH(new BigNumber(block.difficulty, 16).dividedBy(config.blockTime)),\n//  };\n// };\n\nconst blockMapTransactionCount = (block: any) => {\n  return {\n    x: hexToNumber(block.number),\n    y: block.transactions.length,\n  };\n};\n\ninterface IProps {\n  blocks: any[];\n  victoryTheme?: any;\n}\n\nconst StatCharts: React.FC<IProps> = ({ blocks, victoryTheme }) => {\n  const { t } = useTranslation();\n  return (\n    <Grid item container justify=\"center\" style={{maxWidth: \"90vw\", margin: \"auto\", marginTop: \"-50px\", marginBottom: \"20px\"}}>\n\n       {/* <Grid key=\"hashChart\" item xs={12} md={6} lg={3}>\n        <ChartCard title={t(\"Hash Rate\")}>\n          <VictoryChart height={config.chartHeight} width={config.chartWidth} theme={victoryTheme as any}>\n            <VictoryLine data={blocks.map(blockMapHashRate)} />\n          </VictoryChart>\n        </ChartCard>\n      </Grid> */}\n\n      <Grid key=\"txChart\" item xs={12} md={6} lg={3}>\n        <ChartCard title={t(\"Transaction Count\")}>\n          <VictoryChart height={config.chartHeight} width={config.chartWidth} theme={victoryTheme as any}>\n            <VictoryBar data={blocks.map(blockMapTransactionCount)} />\n          </VictoryChart>\n        </ChartCard>\n      </Grid>\n\n      <Grid key=\"gasUsed\" item xs={12} md={6} lg={3}>\n        <ChartCard title={t(\"Gas Used\")}>\n          <VictoryChart height={config.chartHeight} width={config.chartWidth} theme={victoryTheme as any}>\n            <VictoryBar data={blocks.map(blockMapGasUsed)} />\n          </VictoryChart>\n        </ChartCard>\n      </Grid>\n\n      <Grid key=\"uncles\" item xs={12} md={6} lg={3}>\n        <ChartCard title={t(\"Uncle Blocks\")}>\n          <VictoryChart height={config.chartHeight} width={config.chartWidth} theme={victoryTheme as any}>\n            <VictoryBar data={blocks.map(blockMapUncles)} />\n          </VictoryChart>\n        </ChartCard>\n      </Grid>\n\n    </Grid>\n  );\n};\n\nexport default StatCharts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}