{"ast":null,"code":"import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n  var xKeys = _keys(xMap).map(function (k) {\n    return +k;\n  });\n  var xArr = _orderBy(xKeys);\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n  var y = datum._y;\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var datasets = fillData(props, dataFromChildren);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = Wrapper.getCategories(props, childComponents);\n  var datasets = stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n    colorScale = _props.colorScale,\n    horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n}\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n    domain = calculatedProps.domain,\n    range = calculatedProps.range,\n    scale = calculatedProps.scale,\n    horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n    datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}\nexport { getChildren, getCalculatedProps };","map":{"version":3,"names":["_orderBy","_keys","_assign","React","Helpers","Scale","Wrapper","fallbackProps","width","height","padding","fillData","props","datasets","fillInMissingData","xMap","reduce","prev","dataset","forEach","datum","_x","Date","getTime","xKeys","map","k","xArr","indexOffset","isDate","filledInData","x","index","x1","y","_y","getY0","y0","previousDatasets","slice","previousPoints","concat","filter","previousDatum","length","memo","value","sameSign","some","point","addLayoutData","xOffset","yOffset","_y0","_y1","_x1","stackData","childComponents","dataFromChildren","getDataFromChildren","d","i","getCalculatedProps","Children","toArray","children","role","modifyProps","style","getStyle","theme","categories","getCategories","c","cloneElement","data","domain","getDomain","range","getRange","baseScale","getScaleFromProps","getScale","scale","horizontal","_props","colorScale","getLabels","labels","undefined","getChildProps","calculatedProps","getPadding","standalone","getColorScale","child","type","colorScaleOptions","getChildren","_calculatedProps","childProps","parentName","name","getChildStyle","key","domainPadding","labelComponent","polar"],"sources":["/root/experiment/nova-explorer/node_modules/victory-stack/es/helper-methods.js"],"sourcesContent":["import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n\n  var xKeys = _keys(xMap).map(function (k) {\n    return +k;\n  });\n\n  var xArr = _orderBy(xKeys);\n\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var datasets = fillData(props, dataFromChildren);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = Wrapper.getCategories(props, childComponents);\n  var datasets = stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}\n\nexport { getChildren, getCalculatedProps };"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,gBAAgB;AACrC,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,OAAO,MAAM,eAAe;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,KAAK,EAAEC,OAAO,QAAQ,cAAc;AACtD,IAAIC,aAAa,GAAG;EAClBC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,GAAG;EACXC,OAAO,EAAE;AACX,CAAC,CAAC,CAAC;;AAEH,SAASC,QAAQA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACjC,IAAIC,iBAAiB,GAAGF,KAAK,CAACE,iBAAiB;EAC/C,IAAIC,IAAI,GAAGF,QAAQ,CAACG,MAAM,CAAC,UAAUC,IAAI,EAAEC,OAAO,EAAE;IAClDA,OAAO,CAACC,OAAO,CAAC,UAAUC,KAAK,EAAE;MAC/BH,IAAI,CAACG,KAAK,CAACC,EAAE,YAAYC,IAAI,GAAGF,KAAK,CAACC,EAAE,CAACE,OAAO,CAAC,CAAC,GAAGH,KAAK,CAACC,EAAE,CAAC,GAAG,IAAI;IACvE,CAAC,CAAC;IACF,OAAOJ,IAAI;EACb,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,IAAIO,KAAK,GAAGvB,KAAK,CAACc,IAAI,CAAC,CAACU,GAAG,CAAC,UAAUC,CAAC,EAAE;IACvC,OAAO,CAACA,CAAC;EACX,CAAC,CAAC;EAEF,IAAIC,IAAI,GAAG3B,QAAQ,CAACwB,KAAK,CAAC;EAE1B,OAAOX,QAAQ,CAACY,GAAG,CAAC,UAAUP,OAAO,EAAE;IACrC,IAAIU,WAAW,GAAG,CAAC;IACnB,IAAIC,MAAM,GAAGX,OAAO,CAAC,CAAC,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACG,EAAE,YAAYC,IAAI;IACxD,IAAIQ,YAAY,GAAGH,IAAI,CAACF,GAAG,CAAC,UAAUM,CAAC,EAAEC,KAAK,EAAE;MAC9CD,CAAC,GAAG,CAACA,CAAC;MACN,IAAIX,KAAK,GAAGF,OAAO,CAACc,KAAK,GAAGJ,WAAW,CAAC;MAExC,IAAIR,KAAK,EAAE;QACT,IAAIa,EAAE,GAAGJ,MAAM,GAAGT,KAAK,CAACC,EAAE,CAACE,OAAO,CAAC,CAAC,GAAGH,KAAK,CAACC,EAAE;QAE/C,IAAIY,EAAE,KAAKF,CAAC,EAAE;UACZ,OAAOX,KAAK;QACd,CAAC,MAAM;UACLQ,WAAW,EAAE;UACb,IAAIM,CAAC,GAAGpB,iBAAiB,GAAG,CAAC,GAAG,IAAI;UACpCiB,CAAC,GAAGF,MAAM,GAAG,IAAIP,IAAI,CAACS,CAAC,CAAC,GAAGA,CAAC;UAC5B,OAAO;YACLA,CAAC,EAAEA,CAAC;YACJG,CAAC,EAAEA,CAAC;YACJb,EAAE,EAAEU,CAAC;YACLI,EAAE,EAAED;UACN,CAAC;QACH;MACF,CAAC,MAAM;QACL,IAAIC,EAAE,GAAGrB,iBAAiB,GAAG,CAAC,GAAG,IAAI;QAErCiB,CAAC,GAAGF,MAAM,GAAG,IAAIP,IAAI,CAACS,CAAC,CAAC,GAAGA,CAAC;QAC5B,OAAO;UACLA,CAAC,EAAEA,CAAC;UACJG,CAAC,EAAEC,EAAE;UACLd,EAAE,EAAEU,CAAC;UACLI,EAAE,EAAEA;QACN,CAAC;MACH;IACF,CAAC,CAAC;IACF,OAAOL,YAAY;EACrB,CAAC,CAAC;AACJ;AAEA,SAASM,KAAKA,CAAChB,KAAK,EAAEY,KAAK,EAAEnB,QAAQ,EAAE;EACrC,IAAIO,KAAK,CAACiB,EAAE,EAAE;IACZ,OAAOjB,KAAK,CAACiB,EAAE;EACjB;EAEA,IAAIH,CAAC,GAAGd,KAAK,CAACe,EAAE;EAChB,IAAIG,gBAAgB,GAAGzB,QAAQ,CAAC0B,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC;EAC/C,IAAIQ,cAAc,GAAGF,gBAAgB,CAACtB,MAAM,CAAC,UAAUC,IAAI,EAAEC,OAAO,EAAE;IACpE,OAAOD,IAAI,CAACwB,MAAM,CAACvB,OAAO,CAACwB,MAAM,CAAC,UAAUC,aAAa,EAAE;MACzD,OAAOvB,KAAK,CAACC,EAAE,YAAYC,IAAI,GAAGqB,aAAa,CAACtB,EAAE,CAACE,OAAO,CAAC,CAAC,KAAKH,KAAK,CAACC,EAAE,CAACE,OAAO,CAAC,CAAC,GAAGoB,aAAa,CAACtB,EAAE,KAAKD,KAAK,CAACC,EAAE;IACrH,CAAC,CAAC,CAACI,GAAG,CAAC,UAAUkB,aAAa,EAAE;MAC9B,OAAOA,aAAa,CAACR,EAAE,IAAI,CAAC;IAC9B,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN,IAAIE,EAAE,GAAGG,cAAc,CAACI,MAAM,IAAIJ,cAAc,CAACxB,MAAM,CAAC,UAAU6B,IAAI,EAAEC,KAAK,EAAE;IAC7E,IAAIC,QAAQ,GAAGb,CAAC,GAAG,CAAC,IAAIY,KAAK,GAAG,CAAC,IAAIZ,CAAC,IAAI,CAAC,IAAIY,KAAK,IAAI,CAAC;IACzD,OAAOC,QAAQ,GAAG,CAACD,KAAK,GAAGD,IAAI,GAAGA,IAAI;EACxC,CAAC,EAAE,CAAC,CAAC;EACL,OAAOL,cAAc,CAACQ,IAAI,CAAC,UAAUC,KAAK,EAAE;IAC1C,OAAOA,KAAK,YAAY3B,IAAI;EAC9B,CAAC,CAAC,GAAG,IAAIA,IAAI,CAACe,EAAE,CAAC,GAAGA,EAAE;AACxB;AACA;;AAGA,SAASa,aAAaA,CAACtC,KAAK,EAAEC,QAAQ,EAAEmB,KAAK,EAAE;EAC7C,IAAImB,OAAO,GAAGvC,KAAK,CAACuC,OAAO,IAAI,CAAC;EAChC,OAAOtC,QAAQ,CAACmB,KAAK,CAAC,CAACP,GAAG,CAAC,UAAUL,KAAK,EAAE;IAC1C,IAAIgC,OAAO,GAAGhB,KAAK,CAAChB,KAAK,EAAEY,KAAK,EAAEnB,QAAQ,CAAC,IAAI,CAAC;IAChD,OAAOX,OAAO,CAAC,CAAC,CAAC,EAAEkB,KAAK,EAAE;MACxBiC,GAAG,EAAE,EAAEjC,KAAK,CAACe,EAAE,YAAYb,IAAI,CAAC,GAAG8B,OAAO,GAAGA,OAAO,GAAG,IAAI9B,IAAI,CAAC8B,OAAO,CAAC,GAAGhC,KAAK,CAACe,EAAE;MACnFmB,GAAG,EAAElC,KAAK,CAACe,EAAE,KAAK,IAAI,GAAG,IAAI,GAAGf,KAAK,CAACe,EAAE,YAAYb,IAAI,GAAG,IAAIA,IAAI,CAAC,CAACF,KAAK,CAACe,EAAE,GAAG,CAACiB,OAAO,CAAC,GAAGhC,KAAK,CAACe,EAAE,GAAGiB,OAAO;MAC9GG,GAAG,EAAEnC,KAAK,CAACC,EAAE,KAAK,IAAI,GAAG,IAAI,GAAGD,KAAK,CAACC,EAAE,YAAYC,IAAI,GAAG,IAAIA,IAAI,CAAC,CAACF,KAAK,CAACC,EAAE,GAAG,CAAC8B,OAAO,CAAC,GAAG/B,KAAK,CAACC,EAAE,GAAG8B;IACzG,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AACA;;AAGA,SAASK,SAASA,CAAC5C,KAAK,EAAE6C,eAAe,EAAE;EACzC,IAAIC,gBAAgB,GAAGpD,OAAO,CAACqD,mBAAmB,CAAC/C,KAAK,EAAE6C,eAAe,CAAC;EAC1E,IAAI5C,QAAQ,GAAGF,QAAQ,CAACC,KAAK,EAAE8C,gBAAgB,CAAC;EAChD,OAAO7C,QAAQ,CAACY,GAAG,CAAC,UAAUmC,CAAC,EAAEC,CAAC,EAAE;IAClC,OAAOX,aAAa,CAACtC,KAAK,EAAEC,QAAQ,EAAEgD,CAAC,CAAC;EAC1C,CAAC,CAAC;AACJ;AAEA,SAASC,kBAAkBA,CAAClD,KAAK,EAAE6C,eAAe,EAAE;EAClDA,eAAe,GAAGA,eAAe,IAAItD,KAAK,CAAC4D,QAAQ,CAACC,OAAO,CAACpD,KAAK,CAACqD,QAAQ,CAAC;EAC3E,IAAIC,IAAI,GAAG,OAAO;EAClBtD,KAAK,GAAGR,OAAO,CAAC+D,WAAW,CAACvD,KAAK,EAAEL,aAAa,EAAE2D,IAAI,CAAC;EACvD,IAAIE,KAAK,GAAG9D,OAAO,CAAC+D,QAAQ,CAACzD,KAAK,CAAC0D,KAAK,EAAE1D,KAAK,CAACwD,KAAK,EAAEF,IAAI,CAAC;EAC5D,IAAIK,UAAU,GAAGjE,OAAO,CAACkE,aAAa,CAAC5D,KAAK,EAAE6C,eAAe,CAAC;EAC9D,IAAI5C,QAAQ,GAAG2C,SAAS,CAAC5C,KAAK,EAAE6C,eAAe,CAAC;EAChD,IAAIQ,QAAQ,GAAGR,eAAe,CAAChC,GAAG,CAAC,UAAUgD,CAAC,EAAEZ,CAAC,EAAE;IACjD,OAAO1D,KAAK,CAACuE,YAAY,CAACD,CAAC,EAAE;MAC3BE,IAAI,EAAE9D,QAAQ,CAACgD,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAIe,MAAM,GAAG;IACX7C,CAAC,EAAEzB,OAAO,CAACuE,SAAS,CAAC3E,OAAO,CAAC,CAAC,CAAC,EAAEU,KAAK,EAAE;MACtC2D,UAAU,EAAEA;IACd,CAAC,CAAC,EAAE,GAAG,EAAEN,QAAQ,CAAC;IAClB/B,CAAC,EAAE5B,OAAO,CAACuE,SAAS,CAAC3E,OAAO,CAAC,CAAC,CAAC,EAAEU,KAAK,EAAE;MACtC2D,UAAU,EAAEA;IACd,CAAC,CAAC,EAAE,GAAG,EAAEN,QAAQ;EACnB,CAAC;EACD,IAAIa,KAAK,GAAG;IACV/C,CAAC,EAAE3B,OAAO,CAAC2E,QAAQ,CAACnE,KAAK,EAAE,GAAG,CAAC;IAC/BsB,CAAC,EAAE9B,OAAO,CAAC2E,QAAQ,CAACnE,KAAK,EAAE,GAAG;EAChC,CAAC;EACD,IAAIoE,SAAS,GAAG;IACdjD,CAAC,EAAE1B,KAAK,CAAC4E,iBAAiB,CAACrE,KAAK,EAAE,GAAG,CAAC,IAAIN,OAAO,CAAC4E,QAAQ,CAACtE,KAAK,EAAE,GAAG,CAAC;IACtEsB,CAAC,EAAE7B,KAAK,CAAC4E,iBAAiB,CAACrE,KAAK,EAAE,GAAG,CAAC,IAAIN,OAAO,CAAC4E,QAAQ,CAACtE,KAAK,EAAE,GAAG;EACvE,CAAC;EACD,IAAIuE,KAAK,GAAG;IACVpD,CAAC,EAAEiD,SAAS,CAACjD,CAAC,CAAC6C,MAAM,CAACA,MAAM,CAAC7C,CAAC,CAAC,CAAC+C,KAAK,CAAClE,KAAK,CAACwE,UAAU,GAAGN,KAAK,CAAC5C,CAAC,GAAG4C,KAAK,CAAC/C,CAAC,CAAC;IAC3EG,CAAC,EAAE8C,SAAS,CAAC9C,CAAC,CAAC0C,MAAM,CAACA,MAAM,CAAC1C,CAAC,CAAC,CAAC4C,KAAK,CAAClE,KAAK,CAACwE,UAAU,GAAGN,KAAK,CAAC/C,CAAC,GAAG+C,KAAK,CAAC5C,CAAC;EAC5E,CAAC;EACD,IAAImD,MAAM,GAAGzE,KAAK;IACd0E,UAAU,GAAGD,MAAM,CAACC,UAAU;IAC9BF,UAAU,GAAGC,MAAM,CAACD,UAAU;EAClC,OAAO;IACLvE,QAAQ,EAAEA,QAAQ;IAClB0D,UAAU,EAAEA,UAAU;IACtBO,KAAK,EAAEA,KAAK;IACZF,MAAM,EAAEA,MAAM;IACdQ,UAAU,EAAEA,UAAU;IACtBD,KAAK,EAAEA,KAAK;IACZf,KAAK,EAAEA,KAAK;IACZkB,UAAU,EAAEA,UAAU;IACtBpB,IAAI,EAAEA;EACR,CAAC;AACH;AAEA,SAASqB,SAASA,CAAC3E,KAAK,EAAEC,QAAQ,EAAEmB,KAAK,EAAE;EACzC,IAAI,CAACpB,KAAK,CAAC4E,MAAM,EAAE;IACjB,OAAOC,SAAS;EAClB;EAEA,OAAO5E,QAAQ,CAAC+B,MAAM,KAAKZ,KAAK,GAAG,CAAC,GAAGpB,KAAK,CAAC4E,MAAM,GAAGC,SAAS;AACjE;AAEA,SAASC,aAAaA,CAAC9E,KAAK,EAAE+E,eAAe,EAAE;EAC7C,IAAIpB,UAAU,GAAGoB,eAAe,CAACpB,UAAU;IACvCK,MAAM,GAAGe,eAAe,CAACf,MAAM;IAC/BE,KAAK,GAAGa,eAAe,CAACb,KAAK;IAC7BK,KAAK,GAAGQ,eAAe,CAACR,KAAK;IAC7BC,UAAU,GAAGO,eAAe,CAACP,UAAU;EAC3C,OAAO;IACL3E,MAAM,EAAEG,KAAK,CAACH,MAAM;IACpBD,KAAK,EAAEI,KAAK,CAACJ,KAAK;IAClBE,OAAO,EAAEN,OAAO,CAACwF,UAAU,CAAChF,KAAK,CAAC;IAClCiF,UAAU,EAAE,KAAK;IACjBvB,KAAK,EAAE1D,KAAK,CAAC0D,KAAK;IAClBC,UAAU,EAAEA,UAAU;IACtBK,MAAM,EAAEA,MAAM;IACdE,KAAK,EAAEA,KAAK;IACZK,KAAK,EAAEA,KAAK;IACZC,UAAU,EAAEA;EACd,CAAC;AACH;AAEA,SAASU,aAAaA,CAAClF,KAAK,EAAEmF,KAAK,EAAE;EACnC,IAAI7B,IAAI,GAAG6B,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAAC9B,IAAI;EACxC,IAAI+B,iBAAiB,GAAGF,KAAK,CAACnF,KAAK,CAAC0E,UAAU,IAAI1E,KAAK,CAAC0E,UAAU;EAElE,IAAIpB,IAAI,KAAK,OAAO,IAAIA,IAAI,KAAK,OAAO,EAAE;IACxC,OAAOuB,SAAS;EAClB;EAEA,OAAO7E,KAAK,CAAC0D,KAAK,GAAG2B,iBAAiB,IAAIrF,KAAK,CAAC0D,KAAK,CAAC1D,KAAK,CAAC0E,UAAU,GAAGW,iBAAiB;AAC5F;AAEA,SAASC,WAAWA,CAACtF,KAAK,EAAE6C,eAAe,EAAEkC,eAAe,EAAE;EAC5D/E,KAAK,GAAGR,OAAO,CAAC+D,WAAW,CAACvD,KAAK,EAAEL,aAAa,EAAE,OAAO,CAAC;EAC1DkD,eAAe,GAAGA,eAAe,IAAItD,KAAK,CAAC4D,QAAQ,CAACC,OAAO,CAACpD,KAAK,CAACqD,QAAQ,CAAC;EAC3E0B,eAAe,GAAGA,eAAe,IAAI7B,kBAAkB,CAAClD,KAAK,EAAE6C,eAAe,CAAC;EAC/E,IAAI0C,gBAAgB,GAAGR,eAAe;IAClC9E,QAAQ,GAAGsF,gBAAgB,CAACtF,QAAQ;EACxC,IAAIuF,UAAU,GAAGV,aAAa,CAAC9E,KAAK,EAAE+E,eAAe,CAAC;EACtD,IAAIU,UAAU,GAAGzF,KAAK,CAAC0F,IAAI,IAAI,OAAO;EACtC,OAAO7C,eAAe,CAAChC,GAAG,CAAC,UAAUsE,KAAK,EAAE/D,KAAK,EAAE;IACjD,IAAIkC,IAAI,GAAG6B,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAAC9B,IAAI;IACxC,IAAIS,IAAI,GAAG9D,QAAQ,CAACmB,KAAK,CAAC;IAC1B,IAAIoC,KAAK,GAAG9D,OAAO,CAACiG,aAAa,CAACR,KAAK,EAAE/D,KAAK,EAAE2D,eAAe,CAAC;IAChE,IAAIH,MAAM,GAAG5E,KAAK,CAAC4E,MAAM,GAAGD,SAAS,CAAC3E,KAAK,EAAEC,QAAQ,EAAEmB,KAAK,CAAC,GAAG+D,KAAK,CAACnF,KAAK,CAAC4E,MAAM;IAClF,IAAIc,IAAI,GAAGP,KAAK,CAACnF,KAAK,CAAC0F,IAAI,IAAI,EAAE,CAAC7D,MAAM,CAAC4D,UAAU,EAAE,GAAG,CAAC,CAAC5D,MAAM,CAACyB,IAAI,EAAE,GAAG,CAAC,CAACzB,MAAM,CAACT,KAAK,CAAC;IACzF,OAAO7B,KAAK,CAACuE,YAAY,CAACqB,KAAK,EAAE7F,OAAO,CAAC;MACvCsG,GAAG,EAAE,EAAE,CAAC/D,MAAM,CAAC6D,IAAI,EAAE,OAAO,CAAC,CAAC7D,MAAM,CAACT,KAAK,CAAC;MAC3CwD,MAAM,EAAEA,MAAM;MACdc,IAAI,EAAEA,IAAI;MACVG,aAAa,EAAEV,KAAK,CAACnF,KAAK,CAAC6F,aAAa,IAAI7F,KAAK,CAAC6F,aAAa;MAC/DnC,KAAK,EAAE1D,KAAK,CAAC0D,KAAK;MAClBoC,cAAc,EAAE9F,KAAK,CAAC8F,cAAc,IAAIX,KAAK,CAACnF,KAAK,CAAC8F,cAAc;MAClEtC,KAAK,EAAEA,KAAK;MACZkB,UAAU,EAAEQ,aAAa,CAAClF,KAAK,EAAEmF,KAAK,CAAC;MACvCpB,IAAI,EAAEA,IAAI;MACVgC,KAAK,EAAE/F,KAAK,CAAC+F;IACf,CAAC,EAAEP,UAAU,CAAC,CAAC;EACjB,CAAC,CAAC;AACJ;AAEA,SAASF,WAAW,EAAEpC,kBAAkB"},"metadata":{},"sourceType":"module"}