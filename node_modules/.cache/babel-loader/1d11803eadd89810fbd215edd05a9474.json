{"ast":null,"code":"import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  }\n}\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\nvar getScale = function getScale(props) {\n  var _props$scale = props.scale,\n    scale = _props$scale === void 0 ? {} : _props$scale,\n    _props$dimension = props.dimension,\n    dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\nvar getDimension = function getDimension(props) {\n  var horizontal = props.horizontal,\n    _props$dimension2 = props.dimension,\n    dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n  if (!horizontal) {\n    return dimension;\n  }\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\nvar toRange = function toRange(props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\nvar toDomain = function toDomain(props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\nvar getFullRange = function getFullRange(props) {\n  var scale = getScale(props);\n  return scale.range();\n};\nvar getFullDomain = function getFullDomain(props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\nvar withinBound = function withinBound(value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\nvar getBrushDomain = function getBrushDomain(brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : domainMax - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : domainMin + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n  return fullDomain;\n};\nvar getActiveHandle = function getActiveHandle(props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n  var getHandle = function getHandle(type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\nvar getMinimumDomain = function getMinimumDomain() {\n  return [0, SMALL_NUMBER];\n};\nvar panBox = function panBox(props, position) {\n  var brushDomain = props.brushDomain,\n    startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function opacity(_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n  },\n\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function opacity(_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n  },\n\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\nvar VictoryBrushLine = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n    return _possibleConstructorReturn(this, (VictoryBrushLine.__proto__ || Object.getPrototypeOf(VictoryBrushLine)).apply(this, arguments));\n  }\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n        x2 = coordinates.x2,\n        y1 = coordinates.y1,\n        y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n        x1 = props.x1,\n        x2 = props.x2,\n        y1 = props.y1,\n        y2 = props.y2,\n        brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n        activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n        handleStyle = props.handleStyle,\n        id = props.id,\n        brushDomain = props.brushDomain,\n        _props$datum = props.datum,\n        datum = _props$datum === void 0 ? {} : _props$datum,\n        _props$activeBrushes2 = props.activeBrushes,\n        activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n      if (!brushDomain) {\n        return null;\n      }\n      var handleDimensions = this.getHandleDimensions(props);\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n      return [React.cloneElement(handleComponent, minHandleProps), React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n        brushStyle = props.brushStyle,\n        _props$activeBrushes3 = props.activeBrushes,\n        activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n        _props$datum2 = props.datum,\n        datum = _props$datum2 === void 0 ? {} : _props$datum2,\n        brushDomain = props.brushDomain;\n      if (!brushDomain) {\n        return null;\n      }\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n      return React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n        brushAreaStyle = props.brushAreaStyle,\n        _props$activeBrushes4 = props.activeBrushes,\n        activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n        _props$datum3 = props.datum,\n        datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n      return React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n      return React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n  return VictoryBrushLine;\n}(React.Component);\nObject.defineProperty(VictoryBrushLine, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    allowDrag: PropTypes.bool,\n    allowDraw: PropTypes.bool,\n    allowResize: PropTypes.bool,\n    brushAreaComponent: PropTypes.element,\n    brushAreaStyle: PropTypes.object,\n    brushAreaWidth: PropTypes.number,\n    brushComponent: PropTypes.element,\n    brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n    brushDomain: PropTypes.array,\n    brushStyle: PropTypes.object,\n    brushWidth: PropTypes.number,\n    className: PropTypes.string,\n    dimension: PropTypes.oneOf([\"x\", \"y\"]),\n    disable: PropTypes.bool,\n    events: PropTypes.object,\n    groupComponent: PropTypes.element,\n    handleComponent: PropTypes.element,\n    handleStyle: PropTypes.object,\n    handleWidth: PropTypes.number,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    lineComponent: PropTypes.element,\n    name: PropTypes.string,\n    onBrushDomainChange: PropTypes.func,\n    scale: PropTypes.object,\n    style: PropTypes.object,\n    type: PropTypes.string,\n    width: PropTypes.number\n  }\n});\nObject.defineProperty(VictoryBrushLine, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    allowDrag: true,\n    allowDraw: true,\n    allowResize: true,\n    brushAreaComponent: React.createElement(Box, null),\n    brushComponent: React.createElement(Box, null),\n    groupComponent: React.createElement(\"g\", null),\n    handleComponent: React.createElement(Box, null),\n    handleWidth: 10,\n    lineComponent: React.createElement(LineSegment, null),\n    width: 10\n  }\n});\nObject.defineProperty(VictoryBrushLine, \"defaultEvents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: function value(props) {\n    return props.disable ? undefined : [{\n      target: props.type,\n      eventHandlers: {\n        onMouseEnter: function onMouseEnter(evt, targetProps) {\n          evt.preventDefault();\n          var allowResize = targetProps.allowResize,\n            brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps);\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var fullDomain = getFullDomain(targetProps);\n          var currentDomain = getBrushDomain(brushDomain, fullDomain);\n          var range = toRange(targetProps, currentDomain);\n          var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n          var activeBrushes = {\n            brushArea: !targetProps.brushDomain,\n            brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n            minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n            maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n          };\n          return [{\n            mutation: function mutation() {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        },\n        onMouseDown: function onMouseDown(evt, targetProps) {\n          evt.preventDefault();\n          var allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            allowDraw = targetProps.allowDraw,\n            activeBrushes = targetProps.activeBrushes,\n            brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n          if (!allowResize && !allowDrag) {\n            return [];\n          }\n          var fullDomain = getFullDomain(targetProps);\n          var currentDomain = getBrushDomain(brushDomain, fullDomain);\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var range = toRange(targetProps, currentDomain);\n          var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n          if (activeHandle) {\n            return [{\n              mutation: function mutation() {\n                return {\n                  parentSVG: parentSVG,\n                  isSelecting: true,\n                  activeHandle: activeHandle,\n                  brushDomain: currentDomain,\n                  startPosition: position,\n                  activeBrushes: activeBrushes\n                };\n              }\n            }];\n          } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n            // if the event occurs within a selected region start a panning event, unless the whole\n            // domain is selected\n            return [{\n              mutation: function mutation() {\n                return {\n                  isPanning: allowDrag,\n                  startPosition: position,\n                  brushDomain: currentDomain,\n                  activeBrushes: activeBrushes,\n                  parentSVG: parentSVG\n                };\n              }\n            }];\n          } else {\n            // if the event occurs outside the region, or if the whole domain is selected,\n            // start a new selection\n            return allowDraw ? [{\n              mutation: function mutation() {\n                return {\n                  isSelecting: allowResize,\n                  brushDomain: null,\n                  startPosition: position,\n                  activeBrushes: activeBrushes,\n                  parentSVG: parentSVG\n                };\n              }\n            }] : [];\n          }\n        },\n        // eslint-disable-next-line max-statements, complexity\n        onMouseMove: function onMouseMove(evt, targetProps) {\n          var isPanning = targetProps.isPanning,\n            isSelecting = targetProps.isSelecting,\n            allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps);\n          if (isPanning || isSelecting) {\n            evt.preventDefault();\n            evt.stopPropagation();\n          }\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var fullDomain = getFullDomain(targetProps);\n          var domain = getBrushDomain(brushDomain, fullDomain);\n          var initialRange = toRange(targetProps, domain);\n          var activeHandle = getActiveHandle(targetProps, position, initialRange);\n          var activeBrushes = {\n            brushArea: !targetProps.brushDomain,\n            brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n            minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n            maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n          };\n          if (!targetProps.isPanning && !targetProps.isSelecting) {\n            return [{\n              mutation: function mutation() {\n                return {\n                  activeBrushes: activeBrushes,\n                  brushDomain: targetProps.brushDomain,\n                  parentSVG: parentSVG\n                };\n              }\n            }];\n          }\n          if (allowDrag && isPanning) {\n            var fullRange = getFullRange(targetProps);\n            var range = panBox(targetProps, position);\n            var currentDomain = toDomain(targetProps, range);\n            var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n            var mutatedProps = {\n              startPosition: startPosition,\n              isPanning: true,\n              brushDomain: currentDomain,\n              activeBrushes: {\n                brush: true\n              },\n              parentSVG: parentSVG\n            };\n            if (_isFunction(onBrushDomainChange)) {\n              onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n            }\n            return [{\n              mutation: function mutation() {\n                return mutatedProps;\n              }\n            }];\n          } else if (allowResize && isSelecting) {\n            var _currentDomain = brushDomain || getMinimumDomain();\n            var _range = toRange(targetProps, _currentDomain);\n            var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n            var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n            if (!handle) {\n              _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n            } else {\n              var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n              var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n              var min = handle === \"max\" ? rangeMin : position;\n              var max = handle === \"min\" ? rangeMax : position;\n              _currentDomain = toDomain(targetProps, [min, max]);\n            }\n            var _mutatedProps = {\n              brushDomain: _currentDomain,\n              startPosition: targetProps.startPosition,\n              isSelecting: isSelecting,\n              activeHandle: handle,\n              parentSVG: parentSVG,\n              activeBrushes: {\n                brush: true,\n                minHandle: activeHandle === \"min\",\n                maxHandle: activeHandle === \"max\"\n              }\n            };\n            if (_isFunction(onBrushDomainChange)) {\n              onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n            }\n            return [{\n              mutation: function mutation() {\n                return _mutatedProps;\n              }\n            }];\n          }\n          return [];\n        },\n        onMouseUp: function onMouseUp(evt, targetProps) {\n          var onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain,\n            allowResize = targetProps.allowResize,\n            activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n          var mutatedProps = {\n            isPanning: false,\n            isSelecting: false,\n            activeHandle: null,\n            startPosition: null,\n            brushDomain: brushDomain,\n            activeBrushes: activeBrushes\n          };\n          if (allowResize && _isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n          }\n          return [{\n            mutation: function mutation() {\n              return mutatedProps;\n            }\n          }];\n        },\n        onMouseLeave: function onMouseLeave(evt, targetProps) {\n          var brushDomain = targetProps.brushDomain;\n          return [{\n            mutation: function mutation() {\n              return {\n                isPanning: false,\n                isSelecting: false,\n                activeHandle: null,\n                startPosition: null,\n                brushDomain: brushDomain,\n                activeBrushes: {}\n              };\n            }\n          }];\n        }\n      }\n    }];\n  }\n});\nexport { VictoryBrushLine as default };","map":{"version":3,"names":["_pick","_isFunction","_defaults","_assign","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","Symbol","iterator","toString","Array","from","isArray","arr2","React","PropTypes","Selection","Helpers","Collection","LineSegment","Scale","Domain","Box","isEqual","SMALL_NUMBER","Number","MAX_SAFE_INTEGER","getScale","_props$scale","scale","_props$dimension","dimension","fallbackScale","getBaseScale","range","getRange","domain","getDomainFromProps","getDimension","horizontal","_props$dimension2","toRange","Math","min","apply","max","toDomain","invert","getFullRange","getFullDomain","withinBound","bound","getMinValue","getMaxValue","getBrushDomain","brushDomain","fullDomain","brushMin","brushMax","domainMin","domainMax","defaultMin","defaultMax","getActiveHandle","position","width","handleWidth","getHandle","type","base","active","reduce","memo","undefined","getMinimumDomain","panBox","startPosition","fullRange","size","abs","globalMin","globalMax","delta","constrainedMin","constrainedMax","fallbackProps","brushAreaStyle","stroke","fill","opacity","_ref","brushStyle","pointerEvents","_ref2","handleStyle","VictoryBrushLine","_React$Component","getPrototypeOf","arguments","getRectDimensions","brushWidth","coordinates","y1","y2","x1","x2","offset","x","y","height","getHandleDimensions","defaultX","defaultY","getCursor","_props$activeBrushes","activeBrushes","minHandle","maxHandle","brush","renderHandles","handleComponent","id","_props$datum","datum","_props$activeBrushes2","handleDimensions","style","minDatum","handleValue","maxDatum","minHandleProps","concat","evaluateStyle","maxHandleProps","cloneElement","renderBrush","brushComponent","_props$activeBrushes3","_props$datum2","rectDimensions","baseStyle","brushProps","renderBrushArea","brushAreaComponent","_props$activeBrushes4","_props$datum3","brushAreaWidth","cursor","brushArea","brushAreaProps","renderLine","filteredProps","lineComponent","render","createElement","events","Component","allowDrag","bool","allowDraw","allowResize","element","object","number","brushDimension","oneOf","array","className","string","disable","groupComponent","oneOfType","name","onBrushDomainChange","func","eventHandlers","onMouseEnter","evt","targetProps","preventDefault","parentSVG","getParentSVG","getSVGEventCoordinates","currentDomain","activeHandle","mutation","onMouseDown","isSelecting","isPanning","onMouseMove","stopPropagation","initialRange","mutatedProps","_currentDomain","_range","oppositeHandle","handle","rangeMax","rangeMin","_mutatedProps","onMouseUp","onMouseLeave","default"],"sources":["/root/experiment/nova-explorer/node_modules/victory-brush-line/es/victory-brush-line.js"],"sourcesContent":["import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\n\nvar getScale = function (props) {\n  var _props$scale = props.scale,\n      scale = _props$scale === void 0 ? {} : _props$scale,\n      _props$dimension = props.dimension,\n      dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\n\nvar getDimension = function (props) {\n  var horizontal = props.horizontal,\n      _props$dimension2 = props.dimension,\n      dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n\n  if (!horizontal) {\n    return dimension;\n  }\n\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\n\nvar toRange = function (props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\n\nvar toDomain = function (props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\n\nvar getFullRange = function (props) {\n  var scale = getScale(props);\n  return scale.range();\n};\n\nvar getFullDomain = function (props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\n\nvar withinBound = function (value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\n\nvar getBrushDomain = function (brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : domainMax - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : domainMin + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n\n  return fullDomain;\n};\n\nvar getActiveHandle = function (props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n\n  var getHandle = function (type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\n\nvar getMinimumDomain = function () {\n  return [0, SMALL_NUMBER];\n};\n\nvar panBox = function (props, position) {\n  var brushDomain = props.brushDomain,\n      startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\n\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\n\nvar VictoryBrushLine =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n\n    return _possibleConstructorReturn(this, (VictoryBrushLine.__proto__ || Object.getPrototypeOf(VictoryBrushLine)).apply(this, arguments));\n  }\n\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n          x2 = coordinates.x2,\n          y1 = coordinates.y1,\n          y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n          x1 = props.x1,\n          x2 = props.x2,\n          y1 = props.y1,\n          y2 = props.y2,\n          brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n          activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n          handleStyle = props.handleStyle,\n          id = props.id,\n          brushDomain = props.brushDomain,\n          _props$datum = props.datum,\n          datum = _props$datum === void 0 ? {} : _props$datum,\n          _props$activeBrushes2 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var handleDimensions = this.getHandleDimensions(props);\n\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n\n      return [React.cloneElement(handleComponent, minHandleProps), React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n          brushStyle = props.brushStyle,\n          _props$activeBrushes3 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n          _props$datum2 = props.datum,\n          datum = _props$datum2 === void 0 ? {} : _props$datum2,\n          brushDomain = props.brushDomain;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n          brushAreaStyle = props.brushAreaStyle,\n          _props$activeBrushes4 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n          _props$datum3 = props.datum,\n          datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n\n      return React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n\n  return VictoryBrushLine;\n}(React.Component);\n\nObject.defineProperty(VictoryBrushLine, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    allowDrag: PropTypes.bool,\n    allowDraw: PropTypes.bool,\n    allowResize: PropTypes.bool,\n    brushAreaComponent: PropTypes.element,\n    brushAreaStyle: PropTypes.object,\n    brushAreaWidth: PropTypes.number,\n    brushComponent: PropTypes.element,\n    brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n    brushDomain: PropTypes.array,\n    brushStyle: PropTypes.object,\n    brushWidth: PropTypes.number,\n    className: PropTypes.string,\n    dimension: PropTypes.oneOf([\"x\", \"y\"]),\n    disable: PropTypes.bool,\n    events: PropTypes.object,\n    groupComponent: PropTypes.element,\n    handleComponent: PropTypes.element,\n    handleStyle: PropTypes.object,\n    handleWidth: PropTypes.number,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    lineComponent: PropTypes.element,\n    name: PropTypes.string,\n    onBrushDomainChange: PropTypes.func,\n    scale: PropTypes.object,\n    style: PropTypes.object,\n    type: PropTypes.string,\n    width: PropTypes.number\n  }\n});\nObject.defineProperty(VictoryBrushLine, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    allowDrag: true,\n    allowDraw: true,\n    allowResize: true,\n    brushAreaComponent: React.createElement(Box, null),\n    brushComponent: React.createElement(Box, null),\n    groupComponent: React.createElement(\"g\", null),\n    handleComponent: React.createElement(Box, null),\n    handleWidth: 10,\n    lineComponent: React.createElement(LineSegment, null),\n    width: 10\n  }\n});\nObject.defineProperty(VictoryBrushLine, \"defaultEvents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: function (props) {\n    return props.disable ? undefined : [{\n      target: props.type,\n      eventHandlers: {\n        onMouseEnter: function (evt, targetProps) {\n          evt.preventDefault();\n          var allowResize = targetProps.allowResize,\n              brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps);\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var fullDomain = getFullDomain(targetProps);\n          var currentDomain = getBrushDomain(brushDomain, fullDomain);\n          var range = toRange(targetProps, currentDomain);\n          var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n          var activeBrushes = {\n            brushArea: !targetProps.brushDomain,\n            brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n            minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n            maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n          };\n          return [{\n            mutation: function () {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        },\n        onMouseDown: function (evt, targetProps) {\n          evt.preventDefault();\n          var allowResize = targetProps.allowResize,\n              allowDrag = targetProps.allowDrag,\n              allowDraw = targetProps.allowDraw,\n              activeBrushes = targetProps.activeBrushes,\n              brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n          if (!allowResize && !allowDrag) {\n            return [];\n          }\n\n          var fullDomain = getFullDomain(targetProps);\n          var currentDomain = getBrushDomain(brushDomain, fullDomain);\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var range = toRange(targetProps, currentDomain);\n          var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n          if (activeHandle) {\n            return [{\n              mutation: function () {\n                return {\n                  parentSVG: parentSVG,\n                  isSelecting: true,\n                  activeHandle: activeHandle,\n                  brushDomain: currentDomain,\n                  startPosition: position,\n                  activeBrushes: activeBrushes\n                };\n              }\n            }];\n          } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n            // if the event occurs within a selected region start a panning event, unless the whole\n            // domain is selected\n            return [{\n              mutation: function () {\n                return {\n                  isPanning: allowDrag,\n                  startPosition: position,\n                  brushDomain: currentDomain,\n                  activeBrushes: activeBrushes,\n                  parentSVG: parentSVG\n                };\n              }\n            }];\n          } else {\n            // if the event occurs outside the region, or if the whole domain is selected,\n            // start a new selection\n            return allowDraw ? [{\n              mutation: function () {\n                return {\n                  isSelecting: allowResize,\n                  brushDomain: null,\n                  startPosition: position,\n                  activeBrushes: activeBrushes,\n                  parentSVG: parentSVG\n                };\n              }\n            }] : [];\n          }\n        },\n        // eslint-disable-next-line max-statements, complexity\n        onMouseMove: function (evt, targetProps) {\n          var isPanning = targetProps.isPanning,\n              isSelecting = targetProps.isSelecting,\n              allowResize = targetProps.allowResize,\n              allowDrag = targetProps.allowDrag,\n              onBrushDomainChange = targetProps.onBrushDomainChange,\n              brushDomain = targetProps.brushDomain;\n          var dimension = getDimension(targetProps);\n\n          if (isPanning || isSelecting) {\n            evt.preventDefault();\n            evt.stopPropagation();\n          }\n\n          var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n          var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n          var fullDomain = getFullDomain(targetProps);\n          var domain = getBrushDomain(brushDomain, fullDomain);\n          var initialRange = toRange(targetProps, domain);\n          var activeHandle = getActiveHandle(targetProps, position, initialRange);\n          var activeBrushes = {\n            brushArea: !targetProps.brushDomain,\n            brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n            minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n            maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n          };\n\n          if (!targetProps.isPanning && !targetProps.isSelecting) {\n            return [{\n              mutation: function () {\n                return {\n                  activeBrushes: activeBrushes,\n                  brushDomain: targetProps.brushDomain,\n                  parentSVG: parentSVG\n                };\n              }\n            }];\n          }\n\n          if (allowDrag && isPanning) {\n            var fullRange = getFullRange(targetProps);\n            var range = panBox(targetProps, position);\n            var currentDomain = toDomain(targetProps, range);\n            var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n            var mutatedProps = {\n              startPosition: startPosition,\n              isPanning: true,\n              brushDomain: currentDomain,\n              activeBrushes: {\n                brush: true\n              },\n              parentSVG: parentSVG\n            };\n\n            if (_isFunction(onBrushDomainChange)) {\n              onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n            }\n\n            return [{\n              mutation: function () {\n                return mutatedProps;\n              }\n            }];\n          } else if (allowResize && isSelecting) {\n            var _currentDomain = brushDomain || getMinimumDomain();\n\n            var _range = toRange(targetProps, _currentDomain);\n\n            var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n            var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n\n            if (!handle) {\n              _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n            } else {\n              var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n              var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n              var min = handle === \"max\" ? rangeMin : position;\n              var max = handle === \"min\" ? rangeMax : position;\n              _currentDomain = toDomain(targetProps, [min, max]);\n            }\n\n            var _mutatedProps = {\n              brushDomain: _currentDomain,\n              startPosition: targetProps.startPosition,\n              isSelecting: isSelecting,\n              activeHandle: handle,\n              parentSVG: parentSVG,\n              activeBrushes: {\n                brush: true,\n                minHandle: activeHandle === \"min\",\n                maxHandle: activeHandle === \"max\"\n              }\n            };\n\n            if (_isFunction(onBrushDomainChange)) {\n              onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n            }\n\n            return [{\n              mutation: function () {\n                return _mutatedProps;\n              }\n            }];\n          }\n\n          return [];\n        },\n        onMouseUp: function (evt, targetProps) {\n          var onBrushDomainChange = targetProps.onBrushDomainChange,\n              brushDomain = targetProps.brushDomain,\n              allowResize = targetProps.allowResize,\n              activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n          var mutatedProps = {\n            isPanning: false,\n            isSelecting: false,\n            activeHandle: null,\n            startPosition: null,\n            brushDomain: brushDomain,\n            activeBrushes: activeBrushes\n          };\n\n          if (allowResize && _isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return mutatedProps;\n            }\n          }];\n        },\n        onMouseLeave: function (evt, targetProps) {\n          var brushDomain = targetProps.brushDomain;\n          return [{\n            mutation: function () {\n              return {\n                isPanning: false,\n                isSelecting: false,\n                activeHandle: null,\n                startPosition: null,\n                brushDomain: brushDomain,\n                activeBrushes: {}\n              };\n            }\n          }];\n        }\n      }\n    }];\n  }\n});\nexport { VictoryBrushLine as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}