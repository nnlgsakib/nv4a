{"ast":null,"code":"import _slicedToArray from\"/root/experiment/nova-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{CircularProgress}from\"@material-ui/core\";import*as React from\"react\";import TxView from\"../components/TxView\";import useEthRPCStore from\"../stores/useEthRPCStore\";export default function TransactionContainer(props){var hash=props.match.params.hash;var _useEthRPCStore=useEthRPCStore(),_useEthRPCStore2=_slicedToArray(_useEthRPCStore,1),erpc=_useEthRPCStore2[0];var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),transaction=_React$useState2[0],setTransaction=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),receipt=_React$useState4[0],setReceipt=_React$useState4[1];React.useEffect(function(){if(!erpc){return;}erpc.eth_getTransactionByHash(hash).then(function(tx){if(tx===null){return;}setTransaction(tx);});},[hash,erpc]);React.useEffect(function(){if(!erpc){return;}erpc.eth_getTransactionReceipt(hash).then(function(r){if(r===null){return;}setReceipt(r);});},[hash,erpc]);if(!transaction||!receipt){return/*#__PURE__*/React.createElement(CircularProgress,null);}return/*#__PURE__*/React.createElement(TxView,{tx:transaction,receipt:receipt});}","map":{"version":3,"names":["CircularProgress","React","TxView","useEthRPCStore","TransactionContainer","props","hash","match","params","_useEthRPCStore","_useEthRPCStore2","_slicedToArray","erpc","_React$useState","useState","_React$useState2","transaction","setTransaction","_React$useState3","_React$useState4","receipt","setReceipt","useEffect","eth_getTransactionByHash","then","tx","eth_getTransactionReceipt","r","createElement"],"sources":["/root/experiment/nova-explorer/src/containers/Transaction.tsx"],"sourcesContent":["import { CircularProgress } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport TxView from \"../components/TxView\";\nimport useEthRPCStore from \"../stores/useEthRPCStore\";\nimport {\n  Transaction as ITransaction,\n  TransactionReceiptOrNull as ITransactionReceipt,\n} from \"@etclabscore/ethereum-json-rpc\";\n\nexport default function TransactionContainer(props: any) {\n  const hash = props.match.params.hash;\n  const [erpc] = useEthRPCStore();\n  const [transaction, setTransaction] = React.useState<ITransaction>();\n  const [receipt, setReceipt] = React.useState<ITransactionReceipt>();\n\n  React.useEffect(() => {\n    if (!erpc) { return; }\n    erpc.eth_getTransactionByHash(hash).then((tx) => {\n      if (tx === null) { return; }\n      setTransaction(tx);\n    });\n  }, [hash, erpc]);\n\n  React.useEffect(() => {\n    if (!erpc) { return; }\n    erpc.eth_getTransactionReceipt(hash).then((r) => {\n      if (r === null) { return; }\n      setReceipt(r);\n    });\n  }, [hash, erpc]);\n\n  if (!transaction || !receipt) {\n    return (<CircularProgress />);\n  }\n\n  return (<TxView tx={transaction} receipt={receipt} />);\n}\n"],"mappings":"qJAAA,OAASA,gBAAgB,KAAQ,mBAAmB,CACpD,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,cAAc,KAAM,0BAA0B,CAMrD,cAAe,SAAS,CAAAC,oBAAoBA,CAACC,KAAU,CAAE,CACvD,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,KAAK,CAACC,MAAM,CAACF,IAAI,CACpC,IAAAG,eAAA,CAAeN,cAAc,CAAC,CAAC,CAAAO,gBAAA,CAAAC,cAAA,CAAAF,eAAA,IAAxBG,IAAI,CAAAF,gBAAA,IACX,IAAAG,eAAA,CAAsCZ,KAAK,CAACa,QAAQ,CAAe,CAAC,CAAAC,gBAAA,CAAAJ,cAAA,CAAAE,eAAA,IAA7DG,WAAW,CAAAD,gBAAA,IAAEE,cAAc,CAAAF,gBAAA,IAClC,IAAAG,gBAAA,CAA8BjB,KAAK,CAACa,QAAQ,CAAsB,CAAC,CAAAK,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAA5DE,OAAO,CAAAD,gBAAA,IAAEE,UAAU,CAAAF,gBAAA,IAE1BlB,KAAK,CAACqB,SAAS,CAAC,UAAM,CACpB,GAAI,CAACV,IAAI,CAAE,CAAE,OAAQ,CACrBA,IAAI,CAACW,wBAAwB,CAACjB,IAAI,CAAC,CAACkB,IAAI,CAAC,SAACC,EAAE,CAAK,CAC/C,GAAIA,EAAE,GAAK,IAAI,CAAE,CAAE,OAAQ,CAC3BR,cAAc,CAACQ,EAAE,CAAC,CACpB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACnB,IAAI,CAAEM,IAAI,CAAC,CAAC,CAEhBX,KAAK,CAACqB,SAAS,CAAC,UAAM,CACpB,GAAI,CAACV,IAAI,CAAE,CAAE,OAAQ,CACrBA,IAAI,CAACc,yBAAyB,CAACpB,IAAI,CAAC,CAACkB,IAAI,CAAC,SAACG,CAAC,CAAK,CAC/C,GAAIA,CAAC,GAAK,IAAI,CAAE,CAAE,OAAQ,CAC1BN,UAAU,CAACM,CAAC,CAAC,CACf,CAAC,CAAC,CACJ,CAAC,CAAE,CAACrB,IAAI,CAAEM,IAAI,CAAC,CAAC,CAEhB,GAAI,CAACI,WAAW,EAAI,CAACI,OAAO,CAAE,CAC5B,mBAAQnB,KAAA,CAAA2B,aAAA,CAAC5B,gBAAgB,KAAE,CAAC,CAC9B,CAEA,mBAAQC,KAAA,CAAA2B,aAAA,CAAC1B,MAAM,EAACuB,EAAE,CAAET,WAAY,CAACI,OAAO,CAAEA,OAAQ,CAAE,CAAC,CACvD"},"metadata":{},"sourceType":"module"}