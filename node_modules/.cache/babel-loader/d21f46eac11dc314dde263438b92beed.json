{"ast":null,"code":"import _isNil from \"lodash/isNil\";\nimport _assign from \"lodash/assign\";\nimport { Helpers, LabelHelpers, Data, Domain, Scale, Collection } from \"victory-core\";\nvar getDataWithBaseline = function getDataWithBaseline(props, scale) {\n  var data = Data.getData(props);\n  if (data.length < 2) {\n    data = [];\n  }\n  var getDefaultMin = function getDefaultMin(axis) {\n    var defaultZero = Scale.getType(scale[axis]) === \"log\" ? 1 / Number.MAX_SAFE_INTEGER : 0;\n    var domain = scale[axis].domain();\n    var minY = Collection.getMinValue(domain);\n    var maxY = Collection.getMaxValue(domain);\n    var defaultMin = defaultZero;\n    if (minY < 0 && maxY <= 0) {\n      defaultMin = maxY;\n    } else if (minY >= 0 && maxY > 0) {\n      defaultMin = minY;\n    }\n    return Collection.containsDates(domain) ? new Date(defaultMin) : defaultMin;\n  };\n  return data.map(function (datum) {\n    var _y1 = datum._y1 !== undefined ? datum._y1 : datum._y;\n    var _y0 = datum._y0 !== undefined ? datum._y0 : getDefaultMin(\"y\");\n    var _x1 = datum._x1 !== undefined ? datum._x1 : datum._x;\n    var _x0 = datum._x0 !== undefined ? datum._x0 : getDefaultMin(\"x\");\n    return _assign({}, datum, {\n      _y0: _y0,\n      _y1: _y1,\n      _x0: _x0,\n      _x1: _x1\n    });\n  });\n};\nvar getCalculatedValues = function getCalculatedValues(props) {\n  var theme = props.theme,\n    polar = props.polar;\n  var defaultStyles = theme && theme.area && theme.area.style ? theme.area.style : {};\n  var style = Helpers.getStyles(props.style, defaultStyles);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: Domain.getDomainWithZero(props, \"x\"),\n    y: Domain.getDomainWithZero(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  var data = getDataWithBaseline(props, scale);\n  return {\n    style: style,\n    data: data,\n    scale: scale,\n    domain: domain,\n    origin: origin\n  };\n};\nvar getBaseProps = function getBaseProps(props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"area\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n    data = _props.data,\n    domain = _props.domain,\n    events = _props.events,\n    groupComponent = _props.groupComponent,\n    height = _props.height,\n    horizontal = _props.horizontal,\n    interpolation = _props.interpolation,\n    origin = _props.origin,\n    padding = _props.padding,\n    polar = _props.polar,\n    scale = _props.scale,\n    sharedEvents = _props.sharedEvents,\n    standalone = _props.standalone,\n    style = _props.style,\n    theme = _props.theme,\n    width = _props.width,\n    labels = _props.labels,\n    name = _props.name;\n  var initialChildProps = {\n    parent: {\n      style: style.parent,\n      width: width,\n      height: height,\n      scale: scale,\n      data: data,\n      domain: domain,\n      standalone: standalone,\n      theme: theme,\n      polar: polar,\n      origin: origin,\n      padding: padding,\n      name: name,\n      horizontal: horizontal\n    },\n    all: {\n      data: {\n        horizontal: horizontal,\n        polar: polar,\n        origin: origin,\n        scale: scale,\n        data: data,\n        interpolation: interpolation,\n        groupComponent: groupComponent,\n        style: style.data\n      }\n    }\n  };\n  return data.reduce(function (childProps, datum, index) {\n    var text = LabelHelpers.getText(props, datum, index);\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n      childProps[eventKey] = {\n        labels: LabelHelpers.getProps(props, index)\n      };\n    }\n    return childProps;\n  }, initialChildProps);\n};\nexport { getBaseProps, getDataWithBaseline };","map":{"version":3,"names":["_isNil","_assign","Helpers","LabelHelpers","Data","Domain","Scale","Collection","getDataWithBaseline","props","scale","data","getData","length","getDefaultMin","axis","defaultZero","getType","Number","MAX_SAFE_INTEGER","domain","minY","getMinValue","maxY","getMaxValue","defaultMin","containsDates","Date","map","datum","_y1","undefined","_y","_y0","_x1","_x","_x0","getCalculatedValues","theme","polar","defaultStyles","area","style","getStyles","range","x","getRange","y","getDomainWithZero","getBaseScale","horizontal","origin","getPolarOrigin","getBaseProps","fallbackProps","modifiedProps","modifyProps","_props","events","groupComponent","height","interpolation","padding","sharedEvents","standalone","width","labels","name","initialChildProps","parent","all","reduce","childProps","index","text","getText","eventKey","getProps"],"sources":["/root/experiment/nova-explorer/node_modules/victory-area/es/helper-methods.js"],"sourcesContent":["import _isNil from \"lodash/isNil\";\nimport _assign from \"lodash/assign\";\nimport { Helpers, LabelHelpers, Data, Domain, Scale, Collection } from \"victory-core\";\n\nvar getDataWithBaseline = function (props, scale) {\n  var data = Data.getData(props);\n\n  if (data.length < 2) {\n    data = [];\n  }\n\n  var getDefaultMin = function (axis) {\n    var defaultZero = Scale.getType(scale[axis]) === \"log\" ? 1 / Number.MAX_SAFE_INTEGER : 0;\n    var domain = scale[axis].domain();\n    var minY = Collection.getMinValue(domain);\n    var maxY = Collection.getMaxValue(domain);\n    var defaultMin = defaultZero;\n\n    if (minY < 0 && maxY <= 0) {\n      defaultMin = maxY;\n    } else if (minY >= 0 && maxY > 0) {\n      defaultMin = minY;\n    }\n\n    return Collection.containsDates(domain) ? new Date(defaultMin) : defaultMin;\n  };\n\n  return data.map(function (datum) {\n    var _y1 = datum._y1 !== undefined ? datum._y1 : datum._y;\n\n    var _y0 = datum._y0 !== undefined ? datum._y0 : getDefaultMin(\"y\");\n\n    var _x1 = datum._x1 !== undefined ? datum._x1 : datum._x;\n\n    var _x0 = datum._x0 !== undefined ? datum._x0 : getDefaultMin(\"x\");\n\n    return _assign({}, datum, {\n      _y0: _y0,\n      _y1: _y1,\n      _x0: _x0,\n      _x1: _x1\n    });\n  });\n};\n\nvar getCalculatedValues = function (props) {\n  var theme = props.theme,\n      polar = props.polar;\n  var defaultStyles = theme && theme.area && theme.area.style ? theme.area.style : {};\n  var style = Helpers.getStyles(props.style, defaultStyles);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: Domain.getDomainWithZero(props, \"x\"),\n    y: Domain.getDomainWithZero(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  var data = getDataWithBaseline(props, scale);\n  return {\n    style: style,\n    data: data,\n    scale: scale,\n    domain: domain,\n    origin: origin\n  };\n};\n\nvar getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"area\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      data = _props.data,\n      domain = _props.domain,\n      events = _props.events,\n      groupComponent = _props.groupComponent,\n      height = _props.height,\n      horizontal = _props.horizontal,\n      interpolation = _props.interpolation,\n      origin = _props.origin,\n      padding = _props.padding,\n      polar = _props.polar,\n      scale = _props.scale,\n      sharedEvents = _props.sharedEvents,\n      standalone = _props.standalone,\n      style = _props.style,\n      theme = _props.theme,\n      width = _props.width,\n      labels = _props.labels,\n      name = _props.name;\n  var initialChildProps = {\n    parent: {\n      style: style.parent,\n      width: width,\n      height: height,\n      scale: scale,\n      data: data,\n      domain: domain,\n      standalone: standalone,\n      theme: theme,\n      polar: polar,\n      origin: origin,\n      padding: padding,\n      name: name,\n      horizontal: horizontal\n    },\n    all: {\n      data: {\n        horizontal: horizontal,\n        polar: polar,\n        origin: origin,\n        scale: scale,\n        data: data,\n        interpolation: interpolation,\n        groupComponent: groupComponent,\n        style: style.data\n      }\n    }\n  };\n  return data.reduce(function (childProps, datum, index) {\n    var text = LabelHelpers.getText(props, datum, index);\n\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n      childProps[eventKey] = {\n        labels: LabelHelpers.getProps(props, index)\n      };\n    }\n\n    return childProps;\n  }, initialChildProps);\n};\n\nexport { getBaseProps, getDataWithBaseline };"],"mappings":"AAAA,OAAOA,MAAM,MAAM,cAAc;AACjC,OAAOC,OAAO,MAAM,eAAe;AACnC,SAASC,OAAO,EAAEC,YAAY,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,UAAU,QAAQ,cAAc;AAErF,IAAIC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAaC,KAAK,EAAEC,KAAK,EAAE;EAChD,IAAIC,IAAI,GAAGP,IAAI,CAACQ,OAAO,CAACH,KAAK,CAAC;EAE9B,IAAIE,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;IACnBF,IAAI,GAAG,EAAE;EACX;EAEA,IAAIG,aAAa,GAAG,SAAhBA,aAAaA,CAAaC,IAAI,EAAE;IAClC,IAAIC,WAAW,GAAGV,KAAK,CAACW,OAAO,CAACP,KAAK,CAACK,IAAI,CAAC,CAAC,KAAK,KAAK,GAAG,CAAC,GAAGG,MAAM,CAACC,gBAAgB,GAAG,CAAC;IACxF,IAAIC,MAAM,GAAGV,KAAK,CAACK,IAAI,CAAC,CAACK,MAAM,CAAC,CAAC;IACjC,IAAIC,IAAI,GAAGd,UAAU,CAACe,WAAW,CAACF,MAAM,CAAC;IACzC,IAAIG,IAAI,GAAGhB,UAAU,CAACiB,WAAW,CAACJ,MAAM,CAAC;IACzC,IAAIK,UAAU,GAAGT,WAAW;IAE5B,IAAIK,IAAI,GAAG,CAAC,IAAIE,IAAI,IAAI,CAAC,EAAE;MACzBE,UAAU,GAAGF,IAAI;IACnB,CAAC,MAAM,IAAIF,IAAI,IAAI,CAAC,IAAIE,IAAI,GAAG,CAAC,EAAE;MAChCE,UAAU,GAAGJ,IAAI;IACnB;IAEA,OAAOd,UAAU,CAACmB,aAAa,CAACN,MAAM,CAAC,GAAG,IAAIO,IAAI,CAACF,UAAU,CAAC,GAAGA,UAAU;EAC7E,CAAC;EAED,OAAOd,IAAI,CAACiB,GAAG,CAAC,UAAUC,KAAK,EAAE;IAC/B,IAAIC,GAAG,GAAGD,KAAK,CAACC,GAAG,KAAKC,SAAS,GAAGF,KAAK,CAACC,GAAG,GAAGD,KAAK,CAACG,EAAE;IAExD,IAAIC,GAAG,GAAGJ,KAAK,CAACI,GAAG,KAAKF,SAAS,GAAGF,KAAK,CAACI,GAAG,GAAGnB,aAAa,CAAC,GAAG,CAAC;IAElE,IAAIoB,GAAG,GAAGL,KAAK,CAACK,GAAG,KAAKH,SAAS,GAAGF,KAAK,CAACK,GAAG,GAAGL,KAAK,CAACM,EAAE;IAExD,IAAIC,GAAG,GAAGP,KAAK,CAACO,GAAG,KAAKL,SAAS,GAAGF,KAAK,CAACO,GAAG,GAAGtB,aAAa,CAAC,GAAG,CAAC;IAElE,OAAOb,OAAO,CAAC,CAAC,CAAC,EAAE4B,KAAK,EAAE;MACxBI,GAAG,EAAEA,GAAG;MACRH,GAAG,EAAEA,GAAG;MACRM,GAAG,EAAEA,GAAG;MACRF,GAAG,EAAEA;IACP,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAIG,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAa5B,KAAK,EAAE;EACzC,IAAI6B,KAAK,GAAG7B,KAAK,CAAC6B,KAAK;IACnBC,KAAK,GAAG9B,KAAK,CAAC8B,KAAK;EACvB,IAAIC,aAAa,GAAGF,KAAK,IAAIA,KAAK,CAACG,IAAI,IAAIH,KAAK,CAACG,IAAI,CAACC,KAAK,GAAGJ,KAAK,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC;EACnF,IAAIA,KAAK,GAAGxC,OAAO,CAACyC,SAAS,CAAClC,KAAK,CAACiC,KAAK,EAAEF,aAAa,CAAC;EACzD,IAAII,KAAK,GAAG;IACVC,CAAC,EAAE3C,OAAO,CAAC4C,QAAQ,CAACrC,KAAK,EAAE,GAAG,CAAC;IAC/BsC,CAAC,EAAE7C,OAAO,CAAC4C,QAAQ,CAACrC,KAAK,EAAE,GAAG;EAChC,CAAC;EACD,IAAIW,MAAM,GAAG;IACXyB,CAAC,EAAExC,MAAM,CAAC2C,iBAAiB,CAACvC,KAAK,EAAE,GAAG,CAAC;IACvCsC,CAAC,EAAE1C,MAAM,CAAC2C,iBAAiB,CAACvC,KAAK,EAAE,GAAG;EACxC,CAAC;EACD,IAAIC,KAAK,GAAG;IACVmC,CAAC,EAAEvC,KAAK,CAAC2C,YAAY,CAACxC,KAAK,EAAE,GAAG,CAAC,CAACW,MAAM,CAACA,MAAM,CAACyB,CAAC,CAAC,CAACD,KAAK,CAACnC,KAAK,CAACyC,UAAU,GAAGN,KAAK,CAACG,CAAC,GAAGH,KAAK,CAACC,CAAC,CAAC;IAC9FE,CAAC,EAAEzC,KAAK,CAAC2C,YAAY,CAACxC,KAAK,EAAE,GAAG,CAAC,CAACW,MAAM,CAACA,MAAM,CAAC2B,CAAC,CAAC,CAACH,KAAK,CAACnC,KAAK,CAACyC,UAAU,GAAGN,KAAK,CAACC,CAAC,GAAGD,KAAK,CAACG,CAAC;EAC/F,CAAC;EACD,IAAII,MAAM,GAAGZ,KAAK,GAAG9B,KAAK,CAAC0C,MAAM,IAAIjD,OAAO,CAACkD,cAAc,CAAC3C,KAAK,CAAC,GAAGsB,SAAS;EAC9E,IAAIpB,IAAI,GAAGH,mBAAmB,CAACC,KAAK,EAAEC,KAAK,CAAC;EAC5C,OAAO;IACLgC,KAAK,EAAEA,KAAK;IACZ/B,IAAI,EAAEA,IAAI;IACVD,KAAK,EAAEA,KAAK;IACZU,MAAM,EAAEA,MAAM;IACd+B,MAAM,EAAEA;EACV,CAAC;AACH,CAAC;AAED,IAAIE,YAAY,GAAG,SAAfA,YAAYA,CAAa5C,KAAK,EAAE6C,aAAa,EAAE;EACjD,IAAIC,aAAa,GAAGrD,OAAO,CAACsD,WAAW,CAAC/C,KAAK,EAAE6C,aAAa,EAAE,MAAM,CAAC;EACrE7C,KAAK,GAAGR,OAAO,CAAC,CAAC,CAAC,EAAEsD,aAAa,EAAElB,mBAAmB,CAACkB,aAAa,CAAC,CAAC;EACtE,IAAIE,MAAM,GAAGhD,KAAK;IACdE,IAAI,GAAG8C,MAAM,CAAC9C,IAAI;IAClBS,MAAM,GAAGqC,MAAM,CAACrC,MAAM;IACtBsC,MAAM,GAAGD,MAAM,CAACC,MAAM;IACtBC,cAAc,GAAGF,MAAM,CAACE,cAAc;IACtCC,MAAM,GAAGH,MAAM,CAACG,MAAM;IACtBV,UAAU,GAAGO,MAAM,CAACP,UAAU;IAC9BW,aAAa,GAAGJ,MAAM,CAACI,aAAa;IACpCV,MAAM,GAAGM,MAAM,CAACN,MAAM;IACtBW,OAAO,GAAGL,MAAM,CAACK,OAAO;IACxBvB,KAAK,GAAGkB,MAAM,CAAClB,KAAK;IACpB7B,KAAK,GAAG+C,MAAM,CAAC/C,KAAK;IACpBqD,YAAY,GAAGN,MAAM,CAACM,YAAY;IAClCC,UAAU,GAAGP,MAAM,CAACO,UAAU;IAC9BtB,KAAK,GAAGe,MAAM,CAACf,KAAK;IACpBJ,KAAK,GAAGmB,MAAM,CAACnB,KAAK;IACpB2B,KAAK,GAAGR,MAAM,CAACQ,KAAK;IACpBC,MAAM,GAAGT,MAAM,CAACS,MAAM;IACtBC,IAAI,GAAGV,MAAM,CAACU,IAAI;EACtB,IAAIC,iBAAiB,GAAG;IACtBC,MAAM,EAAE;MACN3B,KAAK,EAAEA,KAAK,CAAC2B,MAAM;MACnBJ,KAAK,EAAEA,KAAK;MACZL,MAAM,EAAEA,MAAM;MACdlD,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAEA,IAAI;MACVS,MAAM,EAAEA,MAAM;MACd4C,UAAU,EAAEA,UAAU;MACtB1B,KAAK,EAAEA,KAAK;MACZC,KAAK,EAAEA,KAAK;MACZY,MAAM,EAAEA,MAAM;MACdW,OAAO,EAAEA,OAAO;MAChBK,IAAI,EAAEA,IAAI;MACVjB,UAAU,EAAEA;IACd,CAAC;IACDoB,GAAG,EAAE;MACH3D,IAAI,EAAE;QACJuC,UAAU,EAAEA,UAAU;QACtBX,KAAK,EAAEA,KAAK;QACZY,MAAM,EAAEA,MAAM;QACdzC,KAAK,EAAEA,KAAK;QACZC,IAAI,EAAEA,IAAI;QACVkD,aAAa,EAAEA,aAAa;QAC5BF,cAAc,EAAEA,cAAc;QAC9BjB,KAAK,EAAEA,KAAK,CAAC/B;MACf;IACF;EACF,CAAC;EACD,OAAOA,IAAI,CAAC4D,MAAM,CAAC,UAAUC,UAAU,EAAE3C,KAAK,EAAE4C,KAAK,EAAE;IACrD,IAAIC,IAAI,GAAGvE,YAAY,CAACwE,OAAO,CAAClE,KAAK,EAAEoB,KAAK,EAAE4C,KAAK,CAAC;IAEpD,IAAIC,IAAI,KAAK3C,SAAS,IAAI2C,IAAI,KAAK,IAAI,IAAIR,MAAM,KAAKR,MAAM,IAAIK,YAAY,CAAC,EAAE;MAC7E,IAAIa,QAAQ,GAAG,CAAC5E,MAAM,CAAC6B,KAAK,CAAC+C,QAAQ,CAAC,GAAG/C,KAAK,CAAC+C,QAAQ,GAAGH,KAAK;MAC/DD,UAAU,CAACI,QAAQ,CAAC,GAAG;QACrBV,MAAM,EAAE/D,YAAY,CAAC0E,QAAQ,CAACpE,KAAK,EAAEgE,KAAK;MAC5C,CAAC;IACH;IAEA,OAAOD,UAAU;EACnB,CAAC,EAAEJ,iBAAiB,CAAC;AACvB,CAAC;AAED,SAASf,YAAY,EAAE7C,mBAAmB"},"metadata":{},"sourceType":"module"}