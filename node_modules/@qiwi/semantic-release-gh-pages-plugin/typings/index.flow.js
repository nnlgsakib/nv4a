/**
 * Flowtype definitions for index
 * Generated by Flowgen from a Typescript Definition
 * Flowgen v1.10.0
 */

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/interface" {
  import type { Context } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/semantic-release";

  declare export type TAnyMap = {
    [key: string]: any,
    ...
  };
  declare export type TStringMap = {
    [key: string]: string,
    ...
  };
  declare export type TContext = Context & {
    env: TStringMap,
    cwd: string,
    options: TAnyMap & {
      publish?: Array<any>,
      verifyConditions?: Array<any>,
      ...
    },
    ...
  };
  declare export interface IGhpagesPluginConfig {
    src: string;
    dst: string;
    branch: string;
    msg: string;
    token?: string;
    repo?: string;
    enterprise?: boolean;
    pullTagsBranch?: string;
  }
  declare export type IPushOpts = {
    message: string,
    logger: ILogger,
    env: TAnyMap,
    cwd: string,
    ...
  } & IGhpagesPluginConfig;

  declare export interface ILogger {
    log: (message: string, ...vars: any[]) => void;
    error: (message: string, ...vars: any[]) => void;
  }
}

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/defaults" {
  /**
   * @module semantic-release-gh-pages-plugin
   */
  declare export var PLUGIN_PATH: string;
  declare export var DEFAULT_BRANCH: string;
  declare export var DEFAULT_SRC: string;
  declare export var DEFAULT_DST: string;
  declare export var DEFAULT_MSG: string;
  declare export var DEFAULT_ENTERPRISE: boolean;
  declare export var DEFAULT_PULL_TAGS_BRANCH: any; // "master"
}

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/config" {
  import type {
    IGhpagesPluginConfig,
    TAnyMap,
    TContext
  } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/interface";

  import type {
    DEFAULT_BRANCH,
    DEFAULT_DST,
    DEFAULT_MSG,
    DEFAULT_SRC,
    PLUGIN_PATH,
    DEFAULT_ENTERPRISE,
    DEFAULT_PULL_TAGS_BRANCH
  } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/defaults";

  declare export {
    DEFAULT_BRANCH,
    DEFAULT_SRC,
    DEFAULT_MSG,
    DEFAULT_DST,
    DEFAULT_ENTERPRISE,
    PLUGIN_PATH,
    DEFAULT_PULL_TAGS_BRANCH
  };

  declare export var GITIO_REPO_PATTERN: RegExp;

  /**
   * @private
   */
  declare export var extractRepoName: (repoUrl: string) => string;

  /**
   * @private
   */
  declare export var extractRepoDomain: (repoUrl: string) => string;

  /**
   * @private
   */
  declare export var extractRepoToken: (repoUrl: string) => string;

  /**
   * @private
   */
  declare export var getRepoUrl: (
    pluginConfig: TAnyMap,
    context: TContext
  ) => string;

  /**
   * @private
   */
  declare export var getUrlFromPackage: () => string;

  /**
   * @private
   */
  declare export var getToken: (env: TAnyMap, repoUrl: string) => any;

  /**
   * @private
   */
  declare export var getRepo: (
    pluginConfig: TAnyMap,
    context: TContext,
    enterprise?: boolean | void
  ) => string | void;

  /**
   * @private
   */
  declare export var resolveConfig: (
    pluginConfig: TAnyMap,
    context: TContext,
    path?: string,
    step?: string | void
  ) => IGhpagesPluginConfig;

  /**
   * @private
   */
  declare export var resolveOptions: (
    pluginConfig: TAnyMap,
    context: TContext,
    path?: string,
    step?: string | void
  ) => TAnyMap;
}

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/ghpages" {
  import type { IPushOpts } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/interface";

  /**
   * @private
   */
  declare export var OK: {
    status: string,
    ...
  };

  /**
   * @private
   */
  declare export var pullTags: (opts: IPushOpts) => Promise<any>;

  /**
   * @private
   */
  declare export var pushPages: (opts: IPushOpts) => Promise<mixed>;

  /**
   * @private
   */
  declare export var publish: (opts: IPushOpts) => Promise<mixed>;
}

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/tpl" {
  import type {
    ILogger,
    TAnyMap
  } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/interface";

  /**
   * @private
   */
  declare export var render: (
    template: string,
    context: TAnyMap,
    logger: ILogger
  ) => string;
}

declare module "@qiwi/semantic-release-gh-pages-plugin/lib/es5/index" {
  import type { TContext } from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/interface";

  declare export * from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/defaults"

  declare export var verifyConditions: (
    pluginConfig: any,
    context: TContext
  ) => Promise<void>;
  declare export var publish: (
    pluginConfig: any,
    context: TContext
  ) => Promise<mixed>;
  declare var _default: {
    verifyConditions: (pluginConfig: any, context: TContext) => Promise<void>,
    publish: (pluginConfig: any, context: TContext) => Promise<mixed>,
    ...
  };
  declare export default typeof _default;
}

declare module "@qiwi/semantic-release-gh-pages-plugin" {
  declare export * from "@qiwi/semantic-release-gh-pages-plugin/lib/es5/index"
}
